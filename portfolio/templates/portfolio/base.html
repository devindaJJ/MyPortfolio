{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>{% block title %}My Portfolio{% endblock %}</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="icon" href="{% static 'portfolio/favicon.ico' %}" type="image/x-icon"/>
<link rel="stylesheet" href="{% static 'dist/output.css' %}"/>
<style>
 html {
 scroll-behavior: smooth;
 }
 
 /* tsParticles container styling */
 #tsparticles {
   position: fixed !important;
   top: 0 !important;
   left: 0 !important;
   width: 100% !important;
   height: 100% !important;
   z-index: 15 !important; /* Higher z-index for interactions across entire page */
   pointer-events: auto !important; /* Enable pointer events for interactivity */
 }
 
 /* Canvas styling - tsParticles creates this automatically */
 #tsparticles canvas {
   position: absolute !important;
   top: 0 !important;
   left: 0 !important;
   width: 100% !important;
   height: 100% !important;
 }
</style>
</head>
<body class="min-h-screen bg-[#120026] bg-opacity-90 backdrop-blur-xl relative overflow-x-hidden">

{# tsParticles Container - Move to top for better layering #}
<div id="tsparticles"></div>

{# Background Gradient Layer #}
<div class="fixed inset-0 z-0 bg-gradient-to-br from-[#1a0033]/90 via-[#120026]/95 to-[#120026]/90 backdrop-blur-2xl"></div>

{# Header/Navbar #}
<header class="relative z-30 border-b border-[#3D1768] backdrop-blur-md">
<div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
<a href="{% url 'home' %}" class="text-xl font-bold text-white">Devinda Jay</a>
<nav class="space-x-6 hidden md:block">
<a href="#home" class="text-white hover:text-purple-300 transition">Home</a>
<a href="#about" class="text-white hover:text-purple-300 transition">Projects</a>
<a href="#contact" class="text-white hover:text-purple-300 transition">Contact</a>
</nav>
<div class="md:hidden text-white font-bold">
 ☰
</div>
</div>
</header>

{# Page Content #}
<main class="flex-1 relative z-30">
{% block content %}
{% endblock %}
</main>

{# Footer #}
<footer class="relative z-50 border-t border-purple-900/50 bg-gradient-to-b from-[#0F0722]/50 to-[#3D1768]/30 backdrop-blur-xl py-8">
    <div class="max-w-7xl mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Branding Column -->
            <div class="flex flex-col items-center md:items-start">
                <h3 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-300 mb-4">
                    Devinda Jayathilake
                </h3>
                <p class="text-white/70 text-center md:text-left">
                    Creating elegant solutions through code and design
                </p>
            </div>

            <!-- Quick Links -->
            <div class="flex flex-col items-center">
                <h4 class="text-lg font-semibold text-white mb-4">Quick Links</h4>
                <div class="flex flex-col space-y-2 text-center">
                    <a href="#about" class="text-white/70 hover:text-purple-300 transition">About</a>
                    <a href="#skills" class="text-white/70 hover:text-purple-300 transition">Skills</a>
                    <a href="#projects" class="text-white/70 hover:text-purple-300 transition">Projects</a>
                    <a href="#contact" class="text-white/70 hover:text-purple-300 transition">Contact</a>
                </div>
            </div>

            <!-- Social & Contact -->
            <div class="flex flex-col items-center md:items-end">
                <h4 class="text-lg font-semibold text-white mb-4">Connect</h4>
                <div class="flex space-x-4 mb-4">
                    <a href="https://github.com/devindaJJ" target="_blank" class="social-icon text-white hover:text-purple-400">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path>
                        </svg>
                    </a>
                    <a href="https://linkedin.com/in/yourprofile" target="_blank" class="social-icon">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                        </svg>
                    </a>
                    <a href="mailto:devinda.jayathilake2001@gmail.com" class="social-icon">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 12.713l-11.985-9.713h23.97l-11.985 9.713zm0 2.574l-12-9.725v15.438h24v-15.438l-12 9.725z"/>
                        </svg>
                    </a>
                </div>
                <a href="#contact" class="btn-outline px-4 py-2 text-sm">
                    Get in Touch
                </a>
            </div>
        </div>

        <!-- Copyright -->
        <div class="border-t border-purple-900/30 mt-8 pt-6 text-center text-white/50 text-sm">
            <p>&copy; {{ now|default:2025 }} Devinda Jayathilake. All rights reserved.</p>
            <p class="mt-1">Built with Django, Tailwind CSS, and ♥</p>
        </div>
    </div>
</footer>

<!-- tsParticles CDN -->
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2.12.0/tsparticles.bundle.min.js"></script>
<script>
// Wait for DOM to be fully loaded
document.addEventListener('DOMContentLoaded', function() {
    console.log('Initializing tsParticles...'); // Debug log
    
    tsParticles.load("tsparticles", {
        fullScreen: { 
            enable: false 
        },
        background: {
            color: "transparent"
        },
        fpsLimit: 60,
        particles: {
            number: { 
                value: 50,
                density: {
                    enable: true,
                    value_area: 800
                }
            },
            color: { 
                value: ["#ffffff", "#e879f9", "#c084fc", "#a855f7"] 
            },
            shape: { 
                type: "circle" 
            },
            size: { 
                value: { min: 1, max: 4 },
                random: true,
                anim: {
                    enable: true,
                    speed: 2,
                    size_min: 0.3,
                    sync: false
                }
            },
            opacity: { 
                value: { min: 0.3, max: 1 },
                random: true,
                anim: {
                    enable: true,
                    speed: 1,
                    opacity_min: 0.1,
                    sync: false
                }
            },
            move: {
                enable: true,
                speed: { min: 0.5, max: 2 },
                direction: "none",
                random: true,
                straight: false,
                out_mode: "out",
                bounce: false,
                attract: {
                    enable: false
                }
            }
        },
        interactivity: {
            detectsOn: "canvas",
            events: {
                onhover: {
                    enable: true,
                    mode: ["grab", "bubble"]
                },
                onclick: {
                    enable: true,
                    mode: "push"
                },
                resize: true
            },
            modes: {
                grab: {
                    distance: 200,
                    line_linked: {
                        opacity: 0.5
                    }
                },
                bubble: {
                    distance: 300,
                    size: 8,
                    duration: 2,
                    opacity: 0.8,
                    speed: 3
                },
                push: {
                    particles_nb: 4
                }
            }
        },
        detectRetina: true
    }).then(function(container) {
        console.log('tsParticles loaded successfully!'); // Debug log
    }).catch(function(error) {
        console.error('tsParticles failed to load:', error); // Error log
    });
});
</script>
{% block extra_js %}
    <script src="{% static 'js/main.js' %}"></script>
{% endblock %}
</body>
</html>